<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact | Mist Window Cleaning</title>

    <link rel="stylesheet" href="/css/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        .contact-flex {
            display: flex;
            flex-wrap: wrap;
            gap: 2.5rem;
            justify-content: space-between;
            align-items: flex-start;
            max-width: 1100px;
            margin: 3rem auto 2rem auto;
            background: #fff;
            border-radius: 1.2rem;
            box-shadow: 0 4px 24px rgba(0,40,80,0.07);
            padding: 2.5rem 2rem;
        }
        .contact-left {
            flex: 1 1 320px;
            min-width: 270px;
            max-width: 400px;
        }
        .contact-logo {
            display: block;
            margin-bottom: 1.2rem;
            height: 80px;
            width: auto;
            object-fit: contain;
        }
        .contact-business {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 1.2rem;
        }
        .contact-details {
            font-size: 1.05rem;
            color: #222;
            margin-bottom: 2.2rem;
        }
        .contact-details strong {
            display: inline-block;
            min-width: 70px;
            color: var(--primary-blue);
        }
        .contact-details a {
            color: var(--primary-blue);
            text-decoration: underline;
        }
        .contact-right {
            flex: 1 1 350px;
            min-width: 320px;
            max-width: 500px;
        }
        .contact-form-modern label {
            font-weight: 600;
            color: #444;
            margin-bottom: 0.2rem;
            display: block;
        }
        .contact-form-modern input,
        .contact-form-modern textarea {
            width: 100%;
            padding: 0.7rem 0.9rem;
            border: 1.5px solid #cfd8dc;
            border-radius: 0.5rem;
            font-size: 1rem;
            margin-bottom: 1.1rem;
            background: #f8fafc;
            transition: border 0.2s;
        }
        .contact-form-modern input:focus,
        .contact-form-modern textarea:focus {
            border: 1.5px solid var(--primary-blue);
            outline: none;
        }
        .contact-form-modern .form-row {
            display: flex;
            gap: 1rem;
        }
        .contact-form-modern .form-row > div {
            flex: 1 1 0;
        }
        .contact-form-modern button {
            margin-top: 0.5rem;
        }
        @media (max-width: 900px) {
            .contact-flex {
                flex-direction: column;
                padding: 1.5rem 0.5rem;
            }
            .contact-left, .contact-right {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo-container">
                <img src="/images/logo.png" alt="Mist Window Cleaning Logo" class="logo-icon" style="height:110px;width:110px;">
            </div>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/services">Services</a></li>
                <li><a href="/contact">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <div class="contact-flex">
            <div class="contact-left">
                <img src="/images/logo.png" alt="Mist Window Cleaning Logo" class="contact-logo">
                <div class="contact-business">Mist Window Cleaning</div>
                <div class="contact-details">
                    <div><strong>Address:</strong> Greater Toronto Area</div>
                    <div><strong>Phone:</strong> <a href="tel:16475594222">(647) - 559 - 4222</a></div>
                    <div><strong>Email:</strong> <a href="mailto:info@mistwindowcleaning.ca">info@mistwindowcleaning.ca</a></div>
                </div>
            </div>
            <div class="contact-right">
                <h2 style="font-size:1.4rem;font-weight:700;color:#444;margin-bottom:1.2rem;">Get an estimate</h2>
                <form class="contact-form-modern" method="POST" action="/contact" novalidate>
                    <div class="form-row">
                        <div>
                            <label for="firstName">First Name <span style="color:#e53935;">(required)</span></label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        <div>
                            <label for="lastName">Last Name <span style="color:#e53935;">(required)</span></label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                    </div>
                    <div>
                        <label for="email">Email Address <span style="color:#e53935;">(required)</span></label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div>
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" name="phone" placeholder="(123) 456-7890">
                    </div>
                    <div>
                        <label for="subject">Subject <span style="color:#e53935;">(required)</span></label>
                        <input type="text" id="subject" name="subject" required>
                    </div>
                    <div>
                        <label for="message">Message</label>
                        <textarea id="message" name="message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn">Send Message</button>
                </form>
            </div>
        </div>
    </main>
    <footer>
        <div class="footer-content">
            <div class="footer-divider"></div>
            <div class="footer-info" style="margin: 1.5rem 0; text-align: center;">
                <img src="/images/logo.png" alt="Mist Window Cleaning Logo" class="footer-logo" style="height:48px;width:48px;vertical-align:middle;">
                <div class="footer-brand" style="font-size:1.2rem;font-weight:900;color:var(--primary-blue);margin:0.5rem 0;">Mist Window Cleaning</div>
                <div style="margin:0.2rem 0;">Phone: <a href="tel:16475594222" style="color:var(--primary-blue);text-decoration:underline;">(647) - 559 - 4222</a></div>
                <div style="margin:0.2rem 0;">Email: <a href="mailto:info@mistwindowcleaning.ca" style="color:var(--primary-blue);text-decoration:underline;">info@mistwindowcleaning.ca</a></div>
                <div style="margin:0.2rem 0;">Service Area: Greater Toronto Area</div>
            </div>
            <div class="footer-divider"></div>
            <div class="footer-copyright">
                <span>&copy; 2025 Mist Window Cleaning. All rights reserved.</span>
            </div>
        </div>
    </footer>
    <script>
      // Auto-fill subject from URL parameter if present
      (function() {
        const params = new URLSearchParams(window.location.search);
        const subject = params.get('subject');
        if(subject) {
          const subjectInput = document.getElementById('subject');
          if(subjectInput) subjectInput.value = subject;
        }
      })();

      // Handle form submission
      document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('.contact-form-modern');
        const submitBtn = form.querySelector('button[type="submit"]');
        
        form.addEventListener('submit', async function(e) {
          e.preventDefault();
          
          // Show loading state
          const originalText = submitBtn.textContent;
          submitBtn.textContent = 'Sending...';
          submitBtn.disabled = true;
          
          try {
            const formData = new FormData(form);
            const response = await fetch('/contact', {
              method: 'POST',
              body: formData
            });
            
            const result = await response.json();
            
            if (result.success) {
              // Show success message
              showMessage(result.message, 'success');
              form.reset();
            } else {
              // Show error message
              showMessage(result.message, 'error');
            }
          } catch (error) {
            showMessage('An error occurred. Please try again.', 'error');
          } finally {
            // Reset button
            submitBtn.textContent = originalText;
            submitBtn.disabled = false;
          }
        });
        
        function showMessage(message, type) {
          // Remove existing message
          const existingMessage = document.querySelector('.form-message');
          if (existingMessage) {
            existingMessage.remove();
          }
          
          // Create new message
          const messageDiv = document.createElement('div');
          messageDiv.className = `form-message ${type}`;
          messageDiv.style.cssText = `
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
            font-weight: 600;
            ${type === 'success' ? 
              'background: #d4edda; color: #155724; border: 1px solid #c3e6cb;' : 
              'background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;'
            }
          `;
          messageDiv.textContent = message;
          
          // Insert after form
          form.parentNode.insertBefore(messageDiv, form.nextSibling);
          
          // Auto-remove after 5 seconds
          setTimeout(() => {
            if (messageDiv.parentNode) {
              messageDiv.remove();
            }
          }, 5000);
        }
      });
    </script>
</body>
</html> 